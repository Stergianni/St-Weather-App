(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3920:(e,t,a)=>{"use strict";a.d(t,{default:()=>w});var o=a(5155),r=a(2115),n=a(3464),i=a(4581),c=a(1116),l=a(4915),s=a(2449),d=a(3127),h=a(6018),u=a(8534),p=a(4426),b=a(8407),g=a(4595),m=a(8544),x=a(8097),f=a(6766);function w(){let[e,t]=(0,r.useState)(""),[a,w]=(0,r.useState)(null),[F,y]=(0,r.useState)([]),[A,v]=(0,r.useState)(!1),[j,k]=(0,r.useState)("metric"),[C,E]=(0,r.useState)(!1),{darkMode:S,setDarkMode:M}=(0,x.D)();(0,r.useEffect)(()=>{E(!0)},[]);let _=()=>"metric"===j?"\xb0C":"\xb0F",I=e=>{let t=new Map;return e.forEach(e=>{let a=e.dt_txt.split(" ")[0];!t.has(a)&&e.dt_txt.includes("12:00:00")&&t.set(a,e)}),Array.from(t.values()).slice(0,5)},D=async()=>{if(e){v(!0);try{let t=await n.A.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=b74cdbb2340ba20e2593c6520b0d3768&units=").concat(j));w(t.data);let a=await n.A.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=b74cdbb2340ba20e2593c6520b0d3768&units=").concat(j)),o=I(a.data.list);y(o)}catch(e){alert("City not found")}v(!1)}},W=async()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:a}=e.coords;v(!0);try{let e=await n.A.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(a,"&appid=b74cdbb2340ba20e2593c6520b0d3768&units=").concat(j));w(e.data);let o=await n.A.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t,"&lon=").concat(a,"&appid=b74cdbb2340ba20e2593c6520b0d3768&units=").concat(j)),r=I(o.data.list);y(r)}catch(e){alert("Failed to fetch weather for your location.")}v(!1)}):alert("Geolocation is not supported by this browser.")};return C?(0,o.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:S?"#121212":"#E4E4E4",color:S?"white":"black",display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[(0,o.jsxs)(i.A,{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:6,sx:{flexWrap:"wrap"},children:[(0,o.jsx)(f.default,{src:"/weather-icon.svg",alt:"Weather Icon",width:60,height:60,priority:!0,style:{filter:S?"brightness(0) saturate(100%) invert(42%) sepia(94%) saturate(2426%) hue-rotate(3deg) brightness(103%) contrast(106%)":"none"}}),(0,o.jsx)(c.A,{variant:"h1",fontWeight:"bold",sx:{fontFamily:"'JetBrains Mono', monospace",textAlign:"center",color:S?"white":"black",fontSize:{xs:"1.75rem",sm:"2.5rem",md:"4rem",lg:"5rem"}},children:"St-Weather App"})]}),(0,o.jsxs)(i.A,{display:"flex",alignItems:"center",gap:4,mb:3,children:[(0,o.jsx)(l.A,{control:(0,o.jsx)(s.A,{checked:S,onChange:()=>M(!S),sx:{"& .MuiSwitch-track":{backgroundColor:"#FF6001"},"& .MuiSwitch-thumb":{backgroundColor:"#FF6001"}}}),label:"Dark Mode"}),(0,o.jsx)(l.A,{control:(0,o.jsx)(s.A,{checked:"imperial"===j,onChange:()=>k("metric"===j?"imperial":"metric"),sx:{"& .MuiSwitch-track":{backgroundColor:"#FF6001"},"& .MuiSwitch-thumb":{backgroundColor:"#FF6001"}}}),label:"metric"===j?"\xb0C":"\xb0F"})]}),(0,o.jsx)(d.A,{onClick:W,sx:{mb:3,color:"#FF6001","&:hover":{color:"#FF7020"}},children:(0,o.jsx)(g.A,{})}),(0,o.jsx)(h.A,{label:"Enter city",variant:"outlined",value:e,onChange:e=>t(e.target.value),sx:{mb:2,width:300,"& label.Mui-focused":{color:"#FF6001"},"& label":{color:"#FF6001"},"& .MuiOutlinedInput-root":{backgroundColor:S?"#121212":"#E4E4E4",color:S?"white":"black","& fieldset":{borderColor:S?"#BEBEBE":"#FF6001"},"&:hover fieldset":{borderColor:"#FF7020"},"&.Mui-focused fieldset":{borderColor:"#FF6001"}},"& .MuiInputBase-input::placeholder":{color:"#FF6001"}},onKeyDown:e=>"Enter"===e.key&&D()}),(0,o.jsx)(u.A,{variant:"contained",onClick:D,sx:{mb:3,backgroundColor:"#FF6001","&:hover":{backgroundColor:"#FF7020"}},disabled:A,children:A?(0,o.jsx)(p.A,{size:24}):"Get Weather"}),a&&(0,o.jsx)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,o.jsxs)(b.A,{elevation:4,sx:{p:3,textAlign:"center",mb:4,bgcolor:S?"#1e1e1e":"#fff",color:S?"white":"black"},children:[(0,o.jsxs)(c.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:[a.name,", ",a.sys.country]}),(0,o.jsx)(f.default,{src:"https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:"weather icon",width:100,height:100}),(0,o.jsxs)(c.A,{variant:"h6",children:["Temp: ",a.main.temp," ",_()]}),(0,o.jsxs)(c.A,{children:["Condition: ",a.weather[0].description]})]})}),F.length>0&&(0,o.jsx)(i.A,{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:2,children:F.map((e,t)=>(0,o.jsxs)(b.A,{elevation:3,sx:{p:2,width:150,textAlign:"center",bgcolor:S?"#1e1e1e":"#fff",color:S?"white":"black"},children:[(0,o.jsx)(c.A,{variant:"subtitle1",children:new Date(e.dt_txt).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),(0,o.jsx)(f.default,{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"weather icon",width:60,height:60}),(0,o.jsxs)(c.A,{variant:"body1",children:[Math.round(e.main.temp)," ",_()]}),(0,o.jsx)(c.A,{variant:"body2",children:e.weather[0].main})]},t))})]}):null}},5251:(e,t,a)=>{Promise.resolve().then(a.bind(a,3920))},8097:(e,t,a)=>{"use strict";a.d(t,{D:()=>c,ThemeProvider:()=>i});var o=a(5155),r=a(2115);let n=(0,r.createContext)();function i(e){let{children:t}=e,[a,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("darkMode");e&&i("true"===e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("darkMode",a),document.documentElement.classList.toggle("dark",a)},[a]),(0,o.jsx)(n.Provider,{value:{darkMode:a,setDarkMode:i},children:t})}let c=()=>(0,r.useContext)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[192,441,684,358],()=>t(5251)),_N_E=e.O()}]);